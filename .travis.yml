language: java
before_install:
  - "git clone https://github.com/Mind4SE/mind-compiler.git"
  - "cd mind-compiler"
  - "mvn -U install -DskipTests -PCI-profile"
  - "cd .."
install:
  - "cd fractal-runtime-cpp"
  - "mvn -U clean -PCI-profile"
  - "cd .."
  - "cd adl-backend-cpp"
  - "mvn -U clean -PCI-profile"
  - "cd .."
  - "cd idl-backend-cpp"
  - "mvn -U clean -PCI-profile"
  - "cd .."
  - "cd mindcpp"
  - "mvn -U clean -PCI-profile"
  - "cd .."
script:
  - "cd fractal-runtime-cpp"
  - "mvn -U install -PCI-profile"
  - "cd .."
  - "cd adl-backend-cpp"
  - "mvn -U install -PCI-profile"
  - "cd .."
  - "cd idl-backend-cpp"
  - "mvn -U install -PCI-profile"
  - "cd .."
  - "cd mindcpp"
  - "mvn -U verify -PCI-profile"
